#include <stdio.h>
#include <string.h>

int main() {
    char s[1024];

    printf("Enter string: ");
    if (!fgets(s, sizeof(s), stdin)) return 0;

    // ???????? \n ? ?????, ???? ?
    size_t len = strlen(s);
    if (len > 0 && s[len - 1] == '\n') {
        s[len - 1] = '\0';
        len--;
    }

    // 1) ?????? ?????? ??-?????????? ??????
    size_t start = 0;
    while (s[start] == ' ' || s[start] == '\t' || s[start] == '\r' || s[start] == '\n') {
        start++;
    }

    // ???? ????? ???? ?? ????????
    if (s[start] == '\0') {
        printf("Result: \n");
        return 0;
    }

    // 2) ?????? ???????? ??-?????????? ??????
    size_t end = strlen(s) - 1;
    while (end > start && (s[end] == ' ' || s[end] == '\t' || s[end] == '\r' || s[end] == '\n')) {
        end--;
    }

    // 3) ??????? ???????? [start..end]
    printf("Result: ");
    for (size_t i = start; i <= end; i++) {
        putchar(s[i]);
    }
    putchar('\n');

    return 0;
}
